<!DOCTYPE HTML>
<html lang="ru" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="main.html"><strong aria-hidden="true">1.</strong> Главная</a></li><li class="chapter-item expanded "><a href="code_of_conduct/brief_description.html"><strong aria-hidden="true">2.</strong> Code Of Conduct</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="code_of_conduct/team_structure.html"><strong aria-hidden="true">2.1.</strong> Структура команды</a></li><li class="chapter-item expanded "><a href="code_of_conduct/team_position.html"><strong aria-hidden="true">2.2.</strong> Позиции в команде</a></li><li class="chapter-item expanded "><a href="code_of_conduct/tasks.html"><strong aria-hidden="true">2.3.</strong> Задачи</a></li><li class="chapter-item expanded "><a href="code_of_conduct/testing_sections.html"><strong aria-hidden="true">2.4.</strong> Review, Testing и Issue</a></li><li class="chapter-item expanded "><a href="code_of_conduct/releases.html"><strong aria-hidden="true">2.5.</strong> Релизы</a></li><li class="chapter-item expanded "><a href="code_of_conduct/face-to-face_meetings.html"><strong aria-hidden="true">2.6.</strong> Очные встречи</a></li><li class="chapter-item expanded "><a href="code_of_conduct/project_artefacts.html"><strong aria-hidden="true">2.7.</strong> Артефакты проекта</a></li><li class="chapter-item expanded "><a href="code_of_conduct/team_conflict_resolution.html"><strong aria-hidden="true">2.8.</strong> Решение конфликтных ситуаций</a></li><li class="chapter-item expanded "><a href="code_of_conduct/corporate_ethics.html"><strong aria-hidden="true">2.9.</strong> Корпоративная этика</a></li></ol></li><li class="chapter-item expanded "><a href="api/brief_description.html"><strong aria-hidden="true">3.</strong> Спецификация API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/legend.html"><strong aria-hidden="true">3.1.</strong> Легенда</a></li><li class="chapter-item expanded "><a href="api/api_request_structure.html"><strong aria-hidden="true">3.2.</strong> Cтруктура API-запроса</a></li><li class="chapter-item expanded "><a href="api/api_notification_structure.html"><strong aria-hidden="true">3.3.</strong> Cтруктура API-уведомления</a></li><li class="chapter-item expanded "><a href="api/results_code.html"><strong aria-hidden="true">3.4.</strong> Коды результатов</a></li><li class="chapter-item expanded "><a href="api/time_structure.html"><strong aria-hidden="true">3.5.</strong> Структура отображения времени</a></li><li class="chapter-item expanded "><a href="api/objects.html"><strong aria-hidden="true">3.6.</strong> Объекты API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/objects/user.html"><strong aria-hidden="true">3.6.1.</strong> Объект пользователя - user</a></li><li class="chapter-item expanded "><a href="api/objects/bot.html"><strong aria-hidden="true">3.6.2.</strong> Объект бота - bot</a></li></ol></li><li class="chapter-item expanded "><a href="api/services/auth/auth.html"><strong aria-hidden="true">3.7.</strong> Авторизация</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/services/auth/requests_header.html"><strong aria-hidden="true">3.7.1.</strong> Запросы</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/services/auth/requests/create.html"><strong aria-hidden="true">3.7.1.1.</strong> create</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/check_code.html"><strong aria-hidden="true">3.7.1.2.</strong> checkCode</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/sign_up.html"><strong aria-hidden="true">3.7.1.3.</strong> signUp</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/verify.html"><strong aria-hidden="true">3.7.1.4.</strong> verify</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/respond_verify.html"><strong aria-hidden="true">3.7.1.5.</strong> respondVerify</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/sign_in.html"><strong aria-hidden="true">3.7.1.6.</strong> signIn</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/send_code.html"><strong aria-hidden="true">3.7.1.7.</strong> sendCode</a></li><li class="chapter-item expanded "><a href="api/services/auth/requests/sign_in_force.html"><strong aria-hidden="true">3.7.1.8.</strong> signInForce</a></li></ol></li><li class="chapter-item expanded "><a href="api/services/auth/notifications_header.html"><strong aria-hidden="true">3.7.2.</strong> Уведомления</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/services/auth/updates/new_auth_verify.html"><strong aria-hidden="true">3.7.2.1.</strong> newAuthVerify</a></li><li class="chapter-item expanded "><a href="api/services/auth/updates/respond_auth_verify.html"><strong aria-hidden="true">3.7.2.2.</strong> respondAuthVerify</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="api/services/user/user.html"><strong aria-hidden="true">3.8.</strong> Пользователи</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/services/user/requests_header.html"><strong aria-hidden="true">3.8.1.</strong> Запросы</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="api/services/user/requests/get.html"><strong aria-hidden="true">3.8.1.1.</strong> get</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="serialization/brief_description.html"><strong aria-hidden="true">4.</strong> Спецификация сериализации</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#Главная-страница" id="Главная-страница">Главная страница</a></h1>
<h1><a class="header" href="#Краткое-описание" id="Краткое-описание">Краткое описание</a></h1>
<blockquote>
<p><em>&quot;A code of conduct defines how a company’s employees should act on a day-to-day basis. It reflects the organization’s daily operations, core values and overall company culture. As a result, every code of conduct is unique to the organization it represents.&quot;</em></p>
</blockquote>
<p>Переводя на русский - это правила поведения в компании. Данный документ описывает правила работы с ежедневной рутиной, правила поведения и на что ориентироваться при принятии любых решений.</p>
<h1><a class="header" href="#Структура-команды" id="Структура-команды">Структура команды</a></h1>
<p>Вся команда проекта Sudox делится на равноправные и равно обязанные группы разработки. В настоящий момент их 5:</p>
<ul>
<li>Бэкэнд</li>
<li>Андроид</li>
<li>iOS</li>
<li>Дизайн</li>
<li>Менеджмент</li>
</ul>
<p><strong>Сейчас</strong> в нашей команде нет лидера, начальника или директора, в связи с этим, все важные решения мы принимаем коллегиально. Во всех решениях важно прийти к консенсусу со всеми членами команды или группы разработки. Если придти к консенсусу не удается - вы можете выбрать любого человека из команды проекта, который разбирается в вопросе для разрешения вашей проблемы.</p>
<p>Внутри группы разработки участники могут выбрать себе лидера, если все разработчики (и назначаемый) согласны передать последнее слово в принятии решений одному человеку.</p>
<h1><a class="header" href="#Позиции-в-команде" id="Позиции-в-команде">Позиции в команде.</a></h1>
<h3><a class="header" href="#Разработчик" id="Разработчик">Разработчик</a></h3>
<p>Разработчик - рядовой участник проекта, вносит основной вклад в кодовую или документационную базу проекта. </p>
<p><strong>Обязанности:</strong></p>
<ul>
<li>Присутствовать на очных встречах. (если нет обстоятельств непреодолимой силы)</li>
<li>Выполнять поставленные задачи </li>
<li>Загружать кодовые наработки в корпоративный репозиторий: github</li>
<li>Своевременно добавлять и обновлять свои задачи в трекере: goodday.work</li>
<li>Уведомлять команду менеджмента и свою группу разработки об изменениях в спецификации</li>
<li>Комментировать код</li>
<li>Документировать код (в любой удобной форме, рекомендуется описывать код в wiki, привязанной к репозиторию в github)</li>
<li>Присутствовать на еженедельном скраме</li>
</ul>
<p><strong>Имеет возможность:</strong></p>
<ul>
<li>заморозить свое участие в проекте на срок не более одного спринта. В этом случае следует уведомить команду менеджмента, которая в свою очередь примет решение о заморозке.</li>
</ul>
<h3><a class="header" href="#Тимлид" id="Тимлид">Тимлид</a></h3>
<p>Лидер группы разработки или команды проекта, принимает все важные решения.</p>
<blockquote>
<p>Тимлид принимает все важные решения, но это не значит авторитарную модель. Тимлид должен взвесить предложения и комментарии каждого разработчика и на основе этого принять взвешенное решение.</p>
</blockquote>
<p><strong>Обязанности:</strong></p>
<ul>
<li>Присутствовать на очных встречах. (если нет обстоятельств непреодолимой силы)</li>
<li>Слушать каждого разработчика перед принятием решений</li>
<li>Разъяснять причину, почему он решил именно так</li>
<li>Изменять решение, если разработчик доказал его неэффективность или указал на недочеты, которые были упущены ранее</li>
<li>Сообщать о всех принятых решениях в группу разработки и команду менеджмента</li>
<li>Следить за выполнением разработчиками своих обязанностей</li>
<li>Присутствовать на еженедельном скраме</li>
</ul>
<p>Не может заморозить свое участие в проекте, так как это отрицательно скажется на работоспособности всего отдела разработки.</p>
<h3><a class="header" href="#Скрам-мастер" id="Скрам-мастер">Скрам-мастер</a></h3>
<p>Следит за соблюдением ценностей скрама.</p>
<blockquote>
<p>Скрам-мастер следит за соблюдением ценностей скрама, в его обязанности не входить писать бэклог команде.</p>
</blockquote>
<p><strong>Обязанности:</strong></p>
<ul>
<li>Напоминать о проведении еженедельного скрама</li>
<li>Проверять бэклог команды и просить уточнять задачи, если есть необходимость</li>
<li>Присутствовать на еженедельном скраме</li>
</ul>
<h1><a class="header" href="#Задачи" id="Задачи">Задачи</a></h1>
<p>Весь список задач с их описанием мы храним в goodday. Следить, чтобы все задачи там присутствовали и двигались - обязанность каждого участника проекта. По доскам в goodday команда менеджмента может понять как двигается команда по спринту и успевает ли.</p>
<p><strong>Передача задач</strong></p>
<p>Если вы понимаете, что не можете выполнить задачу вовремя, или считаете, что другой участник справится с ней лучше, или имеете другие причины для передачи задания другому человеку. Вы можете передать свою задачу любому участнику проекта. </p>
<blockquote>
<p>При передаче задач, обязательно помните про этику и уважение. Поставьте себя на место коллеги и подумайте еще раз, правда ли стоит передавать задачу.</p>
</blockquote>
<p><strong>Процедура передачи задач:</strong></p>
<ul>
<li>Подумайте точно-ли стоит передавать задачу</li>
<li>Свяжитесь и договоритесь с другим участником о передаче задачи</li>
<li>Установите нового исполнителя задачи в goodday</li>
<li>Если за этой задачей следит команда менеджмента уведомите их</li>
</ul>
<blockquote>
<p>Если вы достигли соглашения, то изменить исполнителя задачи может любой человек, которому удобно это сделать.</p>
</blockquote>
<p><strong>В каком случае вы <em>НЕ</em> можете передать задачу</strong></p>
<p>Вы не можете передать задачу, если вам не удалось договориться с участником команды о ее передаче.</p>
<p><strong>Делегирование задач</strong></p>
<p>Делегирование задачи - это принудительное присвоение задачи исполнителю.
Делегировать задачи может только менеджмент или тимлид. В иных случаях все задачи передаются исключительно по процедуре их передачи. </p>
<blockquote>
<p>Перед тем как принять задачу - подумайте сможете ли вы ее выполнить, чтобы не прибегать к передаче задач и все могли правильно распланировать время разработки.</p>
</blockquote>
<h1><a class="header" href="#review-testing-и-issue" id="review-testing-и-issue">Review, Testing и Issue</a></h1>
<p>Ревью кода проводится внутри команд разработки, после готовности того или иного модуля/задачи в трекере. Ревью проводит другой разработчик из той-же группы разработки или разработчик из команды, знакомый с темой.</p>
<p><strong>Для чего создано ревью кода?</strong></p>
<p>Ревью кода создано для выявления багов до релиза и неоптимальной реализации. Также ревью предназначено, чтобы как минимум два разработчика понимали код модуля и особенности реализации.</p>
<p><strong>Для чего НЕ создано ревью кода?</strong></p>
<p>Ревью нужно не для того, чтобы ругать друг друга за кодстайл, который не прописан явно, за имена переменных или за использования тех или иных структур языка. Также не стоит обращать внимание на возможные микрооптимизации кода, это может быть сделано на стадии рефакторинга и оптимизации.</p>
<p><strong>Когда проводится ревью кода?</strong></p>
<p>В трекере каждой группы разработки есть колонка REVIEW, если вашей задаче требуется ревью - вы переносите ее в эту колонку и уведомляете человека, который должен его проводить.
Ревью проводится по готовности определенного модуля системы или перед релизом новой версии модуля, приложения или библиотеки.</p>
<p><strong>Кто должен проводить ревью моего кода?</strong></p>
<p>Если у вас в группе разработки есть тимлид, вы должны отправить код на ревью ему. В свою очередь тимлид может делегировать задачу ревью любому другому участнику команды. Если же в группе нет тимлида, то вы можете отправить свой код на ревью любому разработчику. Если в команде нет никого, кто может разобраться в этом коде, то проводится Testing.</p>
<blockquote>
<p>Если разработчик, который должен проводить ревью, сказал что не может провести его в ближайшее время из-за обстоятельств непреодолимой силы - постарайтесь найти другого разработчика, который может сделать это быстрее.</p>
</blockquote>
<p><strong>Для чего нужен Testing?</strong></p>
<p>Если вы считаете, что способны самостоятельно проверить вашу работу, то вам обязательно требуется ее протестировать (проверить кодстайл, наличие багов и т.п.).</p>
<p><strong>Как проводится Testing?</strong></p>
<p>В трекере каждой группы разработки есть колонка TESTING. Если вы собираетесь провести процесс тестирования, вы переносите задачу в этот столбец.</p>
<blockquote>
<p>Testing - обязательный раздел, это означает, что вы не можете использовать его, чтобы просто не проводить ревью и сразу считать задачу выполненной. Выполнение этого раздела будет отслеживаться тимлидом группы разработки или командой менеджмента.</p>
</blockquote>
<p><strong>Зачем нам Issue?</strong></p>
<p>Issue - раздел в github, где можно написать комментарии к определенной части кода и сообщить об ошибке.</p>
<p><strong>Когда я должен кидать Issue?</strong></p>
<p>Если вы нашли баг в релизной версии кода (в коммите в релизным тегом) - без промедления открывайте Issue.</p>
<blockquote>
<p>Если вы открыли Issue - обязательно уведомите об этом разработчика модуля, чтобы он как можно оперативнее разобрался с проблемой</p>
</blockquote>
<h1><a class="header" href="#Релизы" id="Релизы">Релизы</a></h1>
<p>Релиз - это готовый модуль системы или приложения. В данном разделе речь идет об использовании системы релизов, встроенной в репозитории github.</p>
<p><strong>Зачем использовать релиз?</strong></p>
<p>Релизы нужно использовать для удобства тестирования и отслеживания версий приложений и модулей. </p>
<p><strong>Когда я должен использовать релизы?</strong></p>
<p>Если вы закончили писать определенный функционал, протестировали его и ваш модуль работает и выполняет хотя бы некоторые функции, которые нужно тестировать с другими модулями системы - используйте релиз. В этом случае модуль будет легко протестировать с остальной системой.</p>
<blockquote>
<p>К релизу можно добавлять архив, если ваш код требуется скомпилировать (например, APK файл). Перед использованием - скомпилируйте и добавьте в качестве архива к релизу для удобства тестирования.</p>
</blockquote>
<h1><a class="header" href="#Очные-встречи" id="Очные-встречи">Очные встречи</a></h1>
<p>В команде Sudox проводятся общекомандные встречи. Так как команда достаточно большая, начните планировать встречу сильно заранее.</p>
<p><strong>Зачем нам встречи?</strong></p>
<p>Если мы хотим вынести какие-то моменты проекта на общее обсуждение: дизайн, функционал и т.п., мы устраиваем общую встречу.</p>
<p><strong>Какие бывают встречи?</strong></p>
<p>Онлайн и офлайн. Онлайн в дискорде или офлайн встреча в кафе/коворкинге/опенспейсе/вышке….</p>
<p><strong>Обязательно ли я должен быть общей на встрече?</strong></p>
<p>Да, обязательно. Встречи проводятся редко, но если проводится - это значит, что есть вещи, которые мы хотели бы обсудить со всеми без исключения членами команды.
Вы можете не прийти на встречу, если случились обстоятельства непреодолимой силы.</p>
<p><strong>Кто готовит встречу?</strong></p>
<p>Любой человек. Если у вас накопилось несколько тем, которые не получается решить локально и они касаются всего проекта - это сигнал к проведению общей встречи. В таком случае уведомите команду менеджмента, согласуйте повестку встречи и распределите обязанности по подготовке.</p>
<p><strong>Как готовиться к встрече, если я ее организую?</strong></p>
<ul>
<li>Согласовать темы обсуждения с командной менеджмента, это делается, чтобы мы могли внести в повестку встречи другие важные темы, которых было мало для отдельной встречи.</li>
<li>Узнать, когда у всех членов есть свободное время, для этого мы обычно используем инструмент Doodle.
Выбрать дату встречи.</li>
<li>Огласить повестку встречи всей команде. Строго не менее чем за сутки, должен быть оглашен список тем, которые будут обсуждаться на встрече, чтобы все могли подготовиться, почитать дополнительные материалы по теме, взвесить возможные решения.</li>
<li>Опубликовать материалы встречи. Если на встрече вы будете использовать материалы (презентации, модели, документы и т.д.), их следует опубликовать также не менее чем за сутки до встречи, чтобы участники команды успели с ними ознакомиться и встреча была максимально продуктивной.</li>
</ul>
<p><strong>Как готовиться к встрече, если я участник?</strong></p>
<p>Прочитайте список тем и материалы встречи заранее и подумайте, что вы можете предложить команде по этим пунктам.</p>
<h1><a class="header" href="#Артефакты-проекта" id="Артефакты-проекта">Артефакты проекта</a></h1>
<p>Артефакт проекта - это любой материал, созданный в рамках проекта. Это может быть код, дизайн, макет, документация, видео и т.д.</p>
<p>Все артефакты проекта - являются частью проекта, все что создано в рамках проекта не является собственностью разработчика, но является его портфолио. В связи с этим, если вы уходите из проекта - ваши материалы не уходят вместе с вами, они остаются с Sudox, вы должны передать свои наработки другому разработчику перед уходом.</p>
<h1><a class="header" href="#Решение-конфликтных-ситуаций" id="Решение-конфликтных-ситуаций">Решение конфликтных ситуаций</a></h1>
<p>Мелкие конфликты понятий и недопониманий не требуют постороннего вмешательства.</p>
<p>Если конфликт продолжается больше одного дня или кажется масштабным, обязательно уведомите команду менеджмента.</p>
<p><strong>План работы далее:</strong></p>
<p>Выяснить позицию обеих сторон в их присутствии (не по раздельности) 
Найти консенсус обеих сторон.</p>
<blockquote>
<p>Каждый конфликт сводится к фактам, а не эмоциям. 
В особо крупных конфликтах следует ограничить возможность разрабатывать проект на время обеим сторонам, чтобы спокойно решить конфликтную ситуацию.</p>
</blockquote>
<h1><a class="header" href="#Корпоративная-этика" id="Корпоративная-этика">Корпоративная этика</a></h1>
<p>Мы - разносторонняя команда, у каждого ее члена есть собственные интересы и увлечения, однако в работе мы придерживаемся нейтральной позиции к таким темам как:</p>
<ul>
<li>Политика и общественные движения</li>
<li>Религия</li>
<li>Социальный конструктивизм и все исходящее</li>
<li>События, вызывающие общественный резонанс по вышеперечисленным темам </li>
<li>Публичные личности, публикующие материалы по вышеперечисленным темам</li>
<li>Это означает, что разговоры внутри команды или упоминания в разрабатываемом продукте запрещены. </li>
</ul>
<p><strong>Стоит отметить конкретные запреты:</strong></p>
<ul>
<li>Нецензурная ругань в текстовых или графических элементах продукта</li>
<li>Материалы, содержащие порнографические материалы или иной сексуальный подтекст</li>
<li>Личная информация члена команды, добавленная без его разрешения</li>
<li>Материалы, защищенные авторским правом <em>(пока не действует)</em></li>
<li>Любая информация, используемая с целью саботажа</li>
</ul>
<p>При любых нарушениях корпоративной этики со стороны члена команды следует немедленно уведомить команду менеджмента.</p>
<h1><a class="header" href="#Краткое-описание-1" id="Краткое-описание-1">Краткое описание</a></h1>
<p>Данная <em>Спецификация</em> содержит описание всех методов <em>API</em>: названия, краткое описание, принимаемые и возвращаемые значения, коды ошибок и нюансы работы.</p>
<h1><a class="header" href="#Легенда" id="Легенда">Легенда</a></h1>
<h3><a class="header" href="#Описание" id="Описание">Описание</a></h3>
<p>Легенда - это краткое описание используемых терминов и сокращений в документе.</p>
<h3><a class="header" href="#Правила-оформление-терминов" id="Правила-оформление-терминов">Правила оформление терминов</a></h3>
<p>Шрифт и его размер соответствует месту употребление термина, стиль шрифта - <em>Italic</em>, заглавная первая буква. </p>
<h3><a class="header" href="#Правила-оформления-сокращений" id="Правила-оформления-сокращений">Правила оформления сокращений</a></h3>
<p>Шрифт и его размер соответствует месту употребления сокращения, стиль шрифта - <em>Italic</em>.</p>
<h3><a class="header" href="#Пример-оформления-терминов-и-сокращений" id="Пример-оформления-терминов-и-сокращений">Пример оформления терминов и сокращений</a></h3>
<p>Это настоящий документ <em>Спецификации</em> описывающий методы <em>API</em></p>
<h3><a class="header" href="#Термины" id="Термины">Термины</a></h3>
<table><thead><tr><th align="left">Термин</th><th align="center">Обозначение</th></tr></thead><tbody>
<tr><td align="left">Sudox; приложение</td><td align="center">Социальная сеть, разрабатываемый продукт (приложение)</td></tr>
<tr><td align="left">Спецификация</td><td align="center">Исчерпывающее описание методов API, дизайна и бизнес-функционала</td></tr>
<tr><td align="left">Пользователь</td><td align="center">Физическое лицо, использующее Sudox</td></tr>
<tr><td align="left">Карта нажатий пользователя</td><td align="center">Визуальное представление нажатий Пользователя в приложении</td></tr>
<tr><td align="left">Cloud End-To-End</td><td align="center">Технология передачи сообщений, разработанная командой Sudox</td></tr>
<tr><td align="left">Обычная сессия</td><td align="center">Сессия требующая отправки токена в внутри каждого ее метода</td></tr>
<tr><td align="left">Липкая сессия</td><td align="center">Сессия не требующая отправки токена внутри каждого ее метода</td></tr>
<tr><td align="left">Обновление</td><td align="center">Сообщение без запроса клиента</td></tr>
</tbody></table>
<h3><a class="header" href="#Сокращения" id="Сокращения">Сокращения</a></h3>
<table><thead><tr><th align="left">Термин</th><th align="center">Обозначение</th></tr></thead><tbody>
<tr><td align="left">API</td><td align="center">Application Programming Interface</td></tr>
<tr><td align="left">ЦА</td><td align="center">Целевая аудитория</td></tr>
</tbody></table>
<h1><a class="header" href="#Структура-api-запроса" id="Структура-api-запроса">Структура <em>API</em>-запроса</a></h1>
<h3><a class="header" href="#Сообщение-от-клиента" id="Сообщение-от-клиента">Сообщение от клиента</a></h3>
<p>Формат: </p>
<pre><code class="language-c#">{
    &quot;method_name&quot;: &lt;string&gt;,
    &quot;data&quot;: &lt;JSONObject&gt;
}
</code></pre>
<p><strong>Пример:</strong></p>
<pre><code class="language-c#">{
    &quot;method_name&quot;: &quot;auth.create&quot;,
    &quot;data&quot;: {
        &quot;user_phone&quot;: &lt;string&gt;
    }
} 
</code></pre>
<p><strong>Сообщение от сервера</strong></p>
<pre><code class="language-c#">{
    &quot;method_name&quot;: &lt;string&gt;,
    &quot;method_result&quot;: &lt;int&gt;,
    &quot;data&quot;: &lt;JSONObject&gt;
}
</code></pre>
<p><strong>Пример:</strong></p>
<pre><code class="language-c#">{
    &quot;method_name&quot;: &quot;auth.create&quot;,
    &quot;method_result&quot;: 0,
    &quot;data&quot;: {
        &quot;auth_token&quot;: &quot;h39fg292gd209ygf&quot;,
        &quot;user_exist&quot;: false
    }
} 
</code></pre>
<p><strong>result</strong> - результат выполнения запроса
(см. <a href="api/./results_code.html">Коды результатов</a>).</p>
<h1><a class="header" href="#cтруктура-api-уведомления" id="cтруктура-api-уведомления">Cтруктура API-уведомления</a></h1>
<h3><a class="header" href="#Сообщение-от-сервера" id="Сообщение-от-сервера">Сообщение от сервера</a></h3>
<p>Формат: </p>
<pre><code class="language-c#">{
    &quot;update_name&quot;: &lt;string&gt;,
    &quot;data&quot;: &lt;JSONObject&gt;
}
</code></pre>
<p><strong>Пример:</strong></p>
<pre><code class="language-c#">{
    &quot;update_name&quot;: &quot;updates.newAuthVerify&quot;,
    &quot;data&quot;: {
        &quot;public_key&quot;: &lt;string&gt;
    }
} </code></pre>
<h1><a class="header" href="#Коды-результатов" id="Коды-результатов">Коды результатов</a></h1>
<h3><a class="header" href="#Код-успешного-результата" id="Код-успешного-результата">Код успешного результата</a></h3>
<p>Любой успешно обработанный запрос возвращает <code>&lt;int&gt; status = 0</code></p>
<h3><a class="header" href="#Коды-ошибок" id="Коды-ошибок">Коды ошибок</a></h3>
<p>Каждый результат ошибки содержит <code>&lt;int&gt; status</code> - четырехзначный код результата выполнения запроса вида <code>XXYY</code>, где <code>XX</code> - номер сервиса, <code>YY</code> - номер ошибки.</p>
<p>Номера ошибок смотрите в разделах сервисов.</p>
<table><thead><tr><th>Номер сервиса</th><th align="center">00</th><th align="center">01</th><th align="center">02</th><th align="center">03</th><th align="center">04</th></tr></thead><tbody>
<tr><td>Сервис</td><td align="center">common</td><td align="center">auth</td><td align="center">users</td><td align="center">notify</td><td align="center"></td></tr>
</tbody></table>
<h3><a class="header" href="#Номера-common-ошибок" id="Номера-common-ошибок">Номера common ошибок</a></h3>
<p><strong>01</strong> - <strong>SERVICE_UNAVAILABLE</strong> - сервис недоступен<br><br>
<strong>02</strong> - <strong>ACCESS_DENIED</strong> - доступ к методу запрещен <br><br>
<strong>03</strong> - <strong>FORMAT_INVALID</strong> - неверный формат запроса<br><br>
<strong>04</strong> - <strong>CLIENT_NOT_FOUND</strong> - клиент не найден<br><br>
<strong>05</strong> - <strong>SESSION_NOT_FOUND</strong> - сессия не найдена</p>
<h1><a class="header" href="#Структура-отображения-времени" id="Структура-отображения-времени">Структура отображения времени</a></h1>
<p>В данном разделе структура отображения расписывается от меньшего к большему</p>
<blockquote>
<p>В чатах и беседах всегда отображаем <strong>чч:мм/hh:mm AM-PM</strong></p>
</blockquote>
<h3><a class="header" href="#Событие-в-данный-момент-времени" id="Событие-в-данный-момент-времени">Событие в данный момент времени:</a></h3>
<ul>
<li><strong>сейчас/now</strong> - в диалогах</li>
<li><strong>только что/just now</strong> - в постах</li>
<li><strong>был только что/seen just now</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<blockquote>
<p>Секунды мы не отображаем</p>
</blockquote>
<h3><a class="header" href="#Событие-которое-произошло-между-1-60-минутами" id="Событие-которое-произошло-между-1-60-минутами">Событие, которое произошло между [1, 60) минутами:</a></h3>
<blockquote>
<p>n - количество минут</p>
</blockquote>
<ul>
<li><strong>nм/nm</strong> - в диалогах</li>
<li><strong>n минут назад/n minutes ago</strong> - в постах</li>
<li><strong>был n минут назад/seen n minutes ago</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-между-1-12-в-те-же-сутки" id="Событие-которое-произошло-между-1-12-в-те-же-сутки">Событие, которое произошло между [1, 12] в те же сутки</a></h3>
<blockquote>
<p>n - количество часов</p>
</blockquote>
<ul>
<li><strong>nч/nh</strong> - в диалогах</li>
<li><strong>n часов назад/n hours ago</strong> - в постах</li>
<li><strong>был n часов назад/seen n hours ago</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-между-12-24-часами-в-те-же-сутки" id="Событие-которое-произошло-между-12-24-часами-в-те-же-сутки">Событие, которое произошло между [12, 24) часами в те же сутки</a></h3>
<blockquote>
<p>n - количество часов</p>
</blockquote>
<ul>
<li><strong>nч/nh</strong> - в диалогах</li>
<li><strong>в чч:мм/at hh:mm AM-PM</strong> - в постах</li>
<li><strong>был в чч:мм /seen at hh:mm AM-PM</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-в-прошлые-сутки" id="Событие-которое-произошло-в-прошлые-сутки">Событие, которое произошло в прошлые сутки</a></h3>
<ul>
<li><strong>вчера/yesterday</strong> - в диалогах</li>
<li><strong>вчера в чч:мм/yesterday at hh:mm AM-PM</strong> - в постах</li>
<li><strong>был вчера в чч:мм /seen yesterday at hh:mm AM-PM</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-более-суток-назад-но-меньше-недели" id="Событие-которое-произошло-более-суток-назад-но-меньше-недели">Событие, которое произошло более суток назад, но меньше недели</a></h3>
<blockquote>
<p>n - количество дней</p>
</blockquote>
<blockquote>
<p>t - день недеди </p>
</blockquote>
<ul>
<li><strong>tt/tt</strong> - в диалогах</li>
<li><strong>в t в чч:мм /on t at hh:mm AM-PM</strong> - в постах</li>
<li><strong>был в t в чч:мм /seen on t at hh:mm AM-PM</strong> - в списках поиска пользователей или People</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-более-суток-назад-но-на-той-же-неделе" id="Событие-которое-произошло-более-суток-назад-но-на-той-же-неделе">Событие, которое произошло более суток назад, но на той же неделе</a></h3>
<blockquote>
<p>t - день недеди </p>
</blockquote>
<ul>
<li><strong>tt/tt</strong> - в диалогах</li>
<li><strong>в t в чч:мм /on t at hh:mm AM-PM</strong> - в постах</li>
<li><strong>был в t в чч:мм /seen on t at hh:mm AM-PM</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-на-прошлой-неделе" id="Событие-которое-произошло-на-прошлой-неделе">Событие, которое произошло на прошлой неделе</a></h3>
<blockquote>
<p>t - день месяца</p>
</blockquote>
<blockquote>
<p>m - месяц</p>
</blockquote>
<ul>
<li><strong>t mmm/t mmm</strong> - в диалогах</li>
<li><strong>t m в чч:мм /t m at hh:mm</strong> - в постах</li>
<li><strong>был t m в чч:мм/seen on m t at hh:mm AM-PM</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Событие-которое-произошло-более-года-назад" id="Событие-которое-произошло-более-года-назад">Событие, которое произошло более года назад</a></h3>
<blockquote>
<p>n - количество лет</p>
</blockquote>
<blockquote>
<p>t - день месяца</p>
</blockquote>
<blockquote>
<p>m - месяц</p>
</blockquote>
<blockquote>
<p>i - год</p>
</blockquote>
<ul>
<li><strong>nг/ny</strong> - в диалогах</li>
<li><strong>t m i в чч:мм/m t, i at hh:mm AM-PM</strong> - в постах</li>
<li><strong>был t mmm в чч:мм/seen on mmm t, i at hh:mm AM-PM</strong> - в списках поиска пользователей, People, Сhat/Talk Info, Blog</li>
</ul>
<h3><a class="header" href="#Объекты-api" id="Объекты-api">Объекты API</a></h3>
<h2><a class="header" href="#Объект-пользователя---user" id="Объект-пользователя---user">Объект пользователя - user</a></h2>
<h3><a class="header" href="#Объект-пользователя---тип-user_short" id="Объект-пользователя---тип-user_short"><strong>Объект пользователя - тип user_short</strong></a></h3>
<pre><code class="language-c#">{
    &quot;id&quot;: &lt;string&gt;,
    &quot;name&quot;: &lt;string&gt;,
    &quot;nickname&quot;: &lt;string&gt;,
    &quot;photo_id&quot;: &lt;string&gt;,
    &quot;online&quot;: &lt;bool&gt;,
    (optional) &quot;bots&quot;: &lt;bot&gt; []
}
</code></pre>
<h3><a class="header" href="#Объект-пользователя---тип-user_full" id="Объект-пользователя---тип-user_full"><strong>Объект пользователя - тип user_full</strong></a></h3>
<pre><code class="language-c#">{
    &quot;id&quot;: &lt;string&gt;,
    &quot;name&quot;: &lt;string&gt;,
    &quot;nickname&quot;: &lt;string&gt;,
    &quot;photo_id&quot;: &lt;string&gt;,
    &quot;online&quot;: &lt;bool&gt;,
    &quot;subs_count&quot;: &lt;int&gt;,
    &quot;subers_count&quot;: &lt;int&gt;,
    (optional) &quot;status&quot;: &lt;string&gt;,
    (optional) &quot;education&quot;: &lt;string&gt;,
    (optional) &quot;job&quot;: &lt;string&gt;,
    (optional) &quot;location&quot;: &lt;string&gt;,
    (optional) &quot;bots&quot;: &lt;bot&gt; []
}
</code></pre>
<h2><a class="header" href="#Объект-бота---bot" id="Объект-бота---bot">Объект бота - bot</a></h2>
<h3><a class="header" href="#Объект-бота---bot-1" id="Объект-бота---bot-1"><strong>Объект бота - bot</strong></a></h3>
<pre><code class="language-c#">{
    &quot;id&quot;: &lt;string&gt;,
    &quot;name&quot;: &lt;string&gt;,
    &quot;nickname&quot;: &lt;string&gt;,
    &quot;photo_id&quot;: &lt;string&gt;,
    ? &quot;updated&quot;: &lt;int&gt;
}
</code></pre>
<blockquote>
<p><strong>updated</strong> - это параметр, принимающий в себя <strong>0</strong> (не изменен) или <strong>1</strong> (новый бот), или <strong>2</strong> (обновленный бот)</p>
</blockquote>
<h1><a class="header" href="#Авторизация" id="Авторизация">Авторизация</a></h1>
<p>Первый раздел Sudox, содержащий в себе <strong>4 экрана</strong>. Данный раздел используется для идентификации нового и старого <em>Пользователя</em>, переноса сообщений <em>Пользователя</em>.</p>
<h3><a class="header" href="#Номера-кодов-результатов" id="Номера-кодов-результатов">Номера кодов результатов</a></h3>
<p><strong>0101</strong> - <strong>AUTH_NOT_FOUND</strong> - авторизация не найдена</p>
<p><strong>0102</strong> - <strong>AUTH_EXISTS</strong> - авторизация существует</p>
<p><strong>0103</strong> - <strong>AUTH_DROPPED</strong> - истек срок жизни авторизации</p>
<p><strong>0104</strong> - <strong>AUTH_TYPE_INVALID</strong> - невозможно выполнить метод на этом типе авторизации</p>
<p><strong>0105</strong> - <strong>AUTH_CODE_INVALID</strong> - неправильный проверочный код</p>
<p><strong>0106</strong> - <strong>AUTH_CODE_SENT</strong> - код был отправлен</p>
<p><strong>0107</strong> - <strong>USER_PHONE_BANNED</strong> - телефон пользователя забанен</p>
<p><strong>0108</strong> - <strong>USER_KEY_HASH_INVALID</strong> - неверный хэш пользовательского ключа</p>
<h3><a class="header" href="#Тайм-ауты" id="Тайм-ауты">Тайм-ауты</a></h3>
<p><strong>Ошибка 0102</strong> - AUTH_DROPPED = 10 минут</p>
<h3><a class="header" href="#Стек-технологий" id="Стек-технологий">Стек технологий</a></h3>
<ol>
<li><a href="https://libsodium.gitbook.io/">LibSodium</a> - библиотека шифрования</li>
</ol>
<h3><a class="header" href="#Экраны" id="Экраны">Экраны</a></h3>
<ol>
<li>Экран ввода номера телефона.</li>
<li>Экран ввода проверочного кода из SMS.</li>
<li>Экран регистрационных данных.</li>
<li>Экран входа по <em>Cloud End-To-End</em>.</li>
</ol>
<h3><a class="header" href="#Моменты-вызова" id="Моменты-вызова">Моменты вызова</a></h3>
<ol>
<li>После установки <em>Приложения</em>.</li>
<li>После выхода из аккаунта <em>Приложения</em>.</li>
</ol>
<h3><a class="header" href="#Карта-связей-экранов-и-описание-запросов" id="Карта-связей-экранов-и-описание-запросов">Карта связей экранов и описание запросов</a></h3>
<p>Схема, описывающая алгоритм отправки запросов, получения ответов, переходов между фрагментам.</p>
<p><img src="api/services/auth//images/auth_sheme.jpg" alt="Авторизация" /></p>
<p>Далее идёт описание схемы (см. <strong>рисунок 1.1</strong>)</p>
<p>Во всей авторизации используется сервис <em><strong>auth</strong></em></p>
<h2><a class="header" href="#Инициализация-процесса-регистрации-или-авторизации" id="Инициализация-процесса-регистрации-или-авторизации">Инициализация процесса регистрации или авторизации</a></h2>
<ol>
<li>Отправка номер телефона на сервер.</li>
<li>Проверка номера телефона и отправка результата выполнения, типа регистрации и токен сессии авторизации.
id сессии авторизации - особая строка, позволяющая быстро возобновить авторизацию <em>Пользователя</em> после обрыва соединения или тайм-аута.</li>
</ol>
<p><a href="api/services/auth/requests/create.html">Запрос auth.create</a></p>
<p>Далее в зависимости от значения поле <code>&lt;bool&gt; registered</code> идет решение о старте либо регистрации, либо авторизации.</p>
<h2><a class="header" href="#Регистрация" id="Регистрация">Регистрация</a></h2>
<ol start="3">
<li>Отправка кода подтверждения на сервер</li>
<li>Проверка кода и отправка результата выполнения запроса на клиент</li>
<li>Отправка никнейма на сервер</li>
<li>Проверка данных и отправка результата выполнения запроса на клиент</li>
</ol>
<p>3-4 <a href="api/services/auth/requests/check_code.html">Запрос auth.checkCode</a></p>
<p>5-6 <a href="api/services/auth/requests/sign_up.html">Запрос auth.signUp</a></p>
<h2><a class="header" href="#Авторизация-1" id="Авторизация-1">Авторизация</a></h2>
<ol start="3">
<li>Отправка публичного ключа на сервер.</li>
<li>Получение публичного ключа от второго устройства <em>Пользователя</em> и зашифрованного пользовательского ключа.</li>
<li><em><strong>Авторизация через приватный ключ.</strong></em> Отправка хэша <strong>BLAKE2b</strong> пользовательского ключа и ранее полученного токена авторизации. </li>
<li>Получение токена для создания <em>Липкой сессии</em> <em>Пользователя</em> (см. <a href="api/services/auth/">Главный экран</a>).</li>
<li>Запрос клиента на отправку SMS на телефон <em>Пользователя</em> с кодом подтверждения.</li>
<li>Получение от сервера результата отправки кода</li>
<li><em><strong>Авторизация через код.</strong></em> Отправка введенного пользователем кода на сервер</li>
<li>Проверка кода и отправка результата выполнения запроса на клиент.</li>
</ol>
<p><a href="api/services/auth/requests/verify.html">Запрос auth.verify</a></p>
<p><a href="api/services/auth/requests/accept_verify.html">Запрос auth.respondVerify</a></p>
<p><a href="api/services/auth/requests/sign_in.html">Запрос auth.signIn</a></p>
<p><a href="api/services/auth/requests/send_code.html">Запрос auth.sendCode</a></p>
<p><a href="api/services/auth/requests/sign_in_force.html">Запрос auth.signInForce</a></p>
<h1><a class="header" href="#authcreate" id="authcreate">auth.create</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Создание сессии авторизации</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;user_phone&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>user_phone</strong> - российский (пока что) номер телефона, пример: 79991234556 </p>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;user_exists&quot;: &lt;bool&gt;
}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0102 - <strong>AUTH_EXISTS</strong><br><br>
0107 - <strong>USER_PHONE_BANNED</strong></p>
</blockquote>
<h1><a class="header" href="#authcheckcode" id="authcheckcode">auth.checkCode</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Проверка кода, введенного пользователем</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;auth_code&quot;: &lt;int&gt;
}
</code></pre>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{}
</code></pre>
<p><strong>Возможные кода результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0101 - <strong>AUTH_NOT_FOUND</strong><br><br>
0103 - <strong>AUTH_DROPPED</strong><br><br>
0105 - <strong>AUTH_CODE_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#authsignup" id="authsignup">auth.signUp</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Регистрация пользователя</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;user_name&quot;: &lt;string&gt;,
    &quot;user_nickname&quot;: &lt;string&gt;,
    &quot;user_key_hash&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>user_key</strong> - массив рандомных байтов длины 32 (crypto_aead_xchacha20poly1305_ietf_KEYBYTES) <a href="https://libsodium.gitbook.io/doc/generating_random_data">используя</a>. Требуется сохранить его в локальную базу данных.</p>
<p><strong>user_key_hash</strong> - хэш user_key по <a href="https://libsodium.gitbook.io/doc/hashing/generic_hashing">BLAKE2b</a></p>
<p><strong>user_name</strong> - ^([A-zА-я]{1,20}\s?){2}$</p>
<p><strong>user_nickname</strong> - ^[0-9A-z.:_\-()]{1,30}$</p>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{
    &quot;user_id&quot;: &lt;string&gt;,
    &quot;user_secret&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0101 - <strong>AUTH_NOT_FOUND</strong><br><br>
0104 - <strong>AUTH_TYPE_INVALID</strong><br><br>
0105 - <strong>AUTH_CODE_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#authverify" id="authverify">auth.verify</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Отправка подтверждения авторизации на другой авторизированный телефон пользователя </p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;public_key&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>public_key</strong> - <a href="https://libsodium.gitbook.io/doc/key_exchange">Смотрите документацию генерации ключей</a></p>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0005 - <strong>AUTH_NOT_FOUND</strong><br><br>
0104 - <strong>AUTH_TYPE_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#authrespondverify" id="authrespondverify">auth.respondVerify</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Подтверждение или отклонение новой авторизации на другом неавторизированном устройстве пользователя</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;accept&quot;: &lt;bool&gt;,
    &quot;public_key&quot;: &lt;string&gt;,
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;user_key_enc&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>public_key</strong> - <a href="https://libsodium.gitbook.io/doc/key_exchange">Смотрите документацию генерации ключей</a></p>
<ol>
<li>
<p>При помощи сгенерированного public_key и public_key, который пришел от другого устройства в уведомлении update.newVerify получаем сессионный ключ <a href="https://libsodium.gitbook.io/doc/key_exchange">session_key</a></p>
</li>
<li>
<p>При помощи session_key шифруем user_key (был получен при регистрации) и получаем user_key_enc</p>
</li>
</ol>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0101 - <strong>AUTH_NOT_FOUND</strong><br><br>
0104 - <strong>AUTH_TYPE_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#authsignin" id="authsignin">auth.signIn</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Авторизация пользователя</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;auth_id&quot;: &lt;string&gt;,
    &quot;user_key_hash&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>user_key_hash</strong> - хэш user_key по <a href="https://libsodium.gitbook.io/doc/hashing/generic_hashing">BLAKE2b</a></p>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{
    &quot;user_id&quot;: &lt;string&gt;,
    &quot;user_secret&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0002 - <strong>ACCESS_DENIED</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0101 - <strong>AUTH_NOT_FOUND</strong><br><br>
0104 - <strong>AUTH_TYPE_INVALID</strong><br><br>
0105 - <strong>AUTH_CODE_INVALID</strong><br><br>
0108 - <strong>USER_KEY_HASH_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#НЕ-ДЕЛАЕМ-authsendcode" id="НЕ-ДЕЛАЕМ-authsendcode">НЕ ДЕЛАЕМ! auth.sendCode</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Повторная отправка кода на телефон пользователя</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{}
</code></pre>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br> 
0003 - <strong>FORMAT_INVALID</strong><br><br>
0005 - <strong>AUTH_SESSION_NOT_FOUND</strong><br><br>
0103 - <strong>AUTH_DROPPED</strong><br><br>
0106 - <strong>AUTH_CODE_ALREADY_SENT</strong></p>
</blockquote>
<h1><a class="header" href="#НЕ-ДЕЛАЕМ-authsigninforce" id="НЕ-ДЕЛАЕМ-authsigninforce">НЕ ДЕЛАЕМ! auth.signInForce</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Авторизация без передачи пользовательского ключа (бех чатов)</p>
<p><strong>Запрос клиента</strong></p>
<pre><code class="language-c#">{
    &quot;auth_code&quot;: &lt;int&gt;
}
</code></pre>
<p><strong>auth_code</strong> - 5-значное число</p>
<p><strong>Ответ сервера</strong></p>
<pre><code class="language-c#">{
    &quot;user_secret&quot;: &lt;string&gt;,
    &quot;user_id&quot;: &lt;string&gt;
}
</code></pre>
<p><strong>Возможные коды результатов</strong></p>
<blockquote>
<p>0000 - <strong>OK</strong><br><br>
0001 - <strong>SERVICE_UNAVAILABLE</strong><br><br>
0003 - <strong>FORMAT_INVALID</strong><br><br>
0101 - <strong>SESSION_NOT_FOUND</strong><br><br>
0103 - <strong>AUTH_DROPPED</strong><br><br>
0104 - <strong>AUTH_TYPE_INVALID</strong><br><br>
0105 - <strong>AUTH_CODE_INVALID</strong></p>
</blockquote>
<h1><a class="header" href="#updatesnewauthverify" id="updatesnewauthverify">updates.newAuthVerify</a></h1>
<p><strong>Краткое описание</strong></p>
<p>Уведомление запроса respondVerify на другое устройство</p>
<p><strong>Уведомление от сервера</strong></p>
<pre><code class="language-c#">{
    &quot;public_key&quot;: &lt;string&gt;
}
</code></pre>
<h1><a class="header" href="#updatesrespondauthverify" id="updatesrespondauthverify">updates.respondAuthVerify</a></h1>
<p>accept, public_key, user_key_enc</p>
<p><strong>Краткое описание</strong></p>
<p>Уведомление результата запроса respondVerify на другом устройстве</p>
<p><strong>Уведомление от сервера</strong></p>
<pre><code class="language-c#">{
    &quot;accept&quot;: &lt;bool&gt;,
    (optional) &quot;public_key&quot;: &lt;string&gt;,
    (optional) &quot;user_key_enc&quot;: &lt;string&gt;
}
</code></pre>
<h1><a class="header" href="#Пользователи" id="Пользователи">Пользователи</a></h1>
<h2><a class="header" href="#Метод---usersget" id="Метод---usersget">Метод - users:get</a></h2>
<h3><a class="header" href="#Запрос-клиента" id="Запрос-клиента"><strong>Запрос клиента</strong></a></h3>
<pre><code class="language-c#">{
    &quot;users_ids&quot;: &lt;string&gt; [],
    &quot;user_type&quot;: &lt;int&gt;,
    &quot;expand_bots&quot;: &lt;bool&gt;
}
</code></pre>
<blockquote>
<p><strong>user_type</strong> - это параметр, принимающий в себя либо <strong>1</strong> (full), либо <strong>2</strong> (short)</p>
</blockquote>
<blockquote>
<p><strong>expand_bots</strong> - возвращать ботов или нет</p>
</blockquote>
<h3><a class="header" href="#Ответ-сервера" id="Ответ-сервера"><strong>Ответ сервера</strong></a></h3>
<pre><code class="language-c#">{
    &quot;result&quot;: &lt;int&gt;,
    &quot;users&quot;: &lt;user_short, user_full&gt; [],
    (optional) &quot;bots&quot;: &lt;bot&gt; []
}
</code></pre>
<p><a href="api/services/user/requests/../../../objects/user.html">Объект пользователя - user</a></p>
<p><a href="api/services/user/requests/../../../objects/bot.html">Объект бота - bot</a></p>
<h1><a class="header" href="#Спецификация-сериализации" id="Спецификация-сериализации">Спецификация сериализации</a></h1>
<p>Данная <em>Спецификация</em> содержит описание структуру <em>Сериализации</em>: <em>Типы</em> и их описание (размер, структура, способы применения).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
